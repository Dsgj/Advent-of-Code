# Day 02: Gift Shop - Train of Thought

## Problem Understanding

Given number ranges, find IDs with repeating digit patterns.

- Part 1: Find "double" numbers (e.g., 1212, 5555 where pattern repeats)
- Part 2: Sum all numbers with patterns that repeat 2+ times

## Part 1: Double Pattern Numbers

### Thinking Process

1. A "double" number like XX has pattern X repeated twice
2. For even-length numbers: first half = second half
3. E.g., 1212 → "12" + "12", 5555 → "55" + "55"

### Key Insight

Instead of checking each number, generate valid numbers mathematically! If pattern = P, the full number = P × (10^halfLen + 1).

### Algorithm: **Arithmetic Progression Sum**

- For each valid pattern length, calculate sum of `P × multiplier` that fall in range
- Use formula: `sum = n/2 × (first + last)`

**Complexity:** O(log₁₀(max)) per range

---

## Part 2: Any Repeating Pattern

### Thinking Process

1. Pattern of length k divides number length n (where n/k ≥ 2)
2. e.g., 123123 has pattern "123" (length 3, repeats 2×)
3. But 121212 counts as pattern "12" (repeats 3×), NOT "121212"

### Key Insight

Use **Inclusion-Exclusion** to avoid double-counting. A pattern of length 6 includes all numbers generated by lengths 1, 2, 3.

### Algorithm: **Inclusion-Exclusion + Divisor Analysis**

1. For each pattern length k that divides n:
   - Calculate sum of all numbers with that pattern
   - Subtract sums from smaller divisors (already counted)
2. Uses **Möbius-like** principle for proper divisors

**Complexity:** O(d(n) × log(max)) where d(n) = number of divisors
